import{D as e}from"./data-qa-utils-8be7c726.js";import{n as t}from"./property-d63bb995.js";import{L as n}from"./layouthelper-c2462bd3.js";const r=(e,t)=>void 0!==e[t],s=(e,t)=>{const n=t();if(0===n.length)throw new Error("empty interface");for(const t of n)if(!r(e,t))return!1;return!0};class a{constructor(e){this.element=e}}class i extends CustomEvent{constructor(e){super(i.eventName,{detail:e,bubbles:!1,composed:!1,cancelable:!1})}static create(e){return new i(new a(e))}}i.eventName="dxbl-element-connected";class l extends CustomEvent{constructor(e){super(l.eventName,{detail:e,bubbles:!1,composed:!1,cancelable:!1})}static create(e){return new i(new a(e))}}l.eventName="dxbl-element-disconnected";class c extends t{constructor(){super(...arguments),this._isInitialized=!1}get isInitialized(){return this._isInitialized}connectedCallback(){super.connectedCallback(),this._isInitialized=!0,e.setLoaded(this),this.dispatchEvent(i.create(this))}disconnectedCallback(){super.disconnectedCallback(),this._isInitialized=!1,e.removeLoaded(this),this.dispatchEvent(l.create(this))}}class o{static getParent(e,t){var r;return s(e,(()=>["logicalParent"]))&&null!==(r=e.logicalParent)&&void 0!==r?r:n.getParent(e,t)}static findParent(e,t,n=!0){for(const r of o.getRootPath(e,null,n)){if(r&&t(r))return r}return null}static containsElement(e,t){return!!t&&null!==o.findParent(e,(e=>e===t))}static*getRootPath(e,t=null,n=!0){let r=o.getParent(e,n);for(;r&&r!==t;)yield r,r=o.getParent(r,n)}}class d extends c{constructor(){super(),this._logicalParent=null,this._logicalChildren=new Array}get hasLogicalParent(){return!!this.logicalParent}get logicalParent(){return this._logicalParent}set logicalParent(e){this._logicalParent=e}get logicalChildren(){return this._logicalChildren}addLogicalChild(e){if(e.logicalParent)throw new Error("Child element already added.");this._logicalChildren.push(e),e.logicalParent=this}removeLogicalChild(e){e.logicalParent=null;const t=this._logicalChildren.indexOf(e);t>-1&&this._logicalChildren.splice(t,1)}async processCapturedKeyDownAsync(e,t){t.handled||this.logicalParent&&s(this.logicalParent,(()=>["processCapturedPointerDownAsync","processCapturedKeyDownAsync"]))&&await this.logicalParent.processCapturedKeyDownAsync(e,t)}async processCapturedPointerDownAsync(e,t){if(t.handled)return;const n=o.findParent(this,(e=>s(e,(()=>["processCapturedPointerDownAsync","processCapturedKeyDownAsync"]))));n&&s(n,(()=>["processCapturedPointerDownAsync","processCapturedKeyDownAsync"]))&&await n.processCapturedPointerDownAsync(e,t)}}export{d as D,o as L,s as i};
