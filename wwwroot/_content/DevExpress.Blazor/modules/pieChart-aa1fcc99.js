import{t as e}from"./dom-utils-8b753f73.js";import{setupTooltip as t,hideTooltip as i}from"./tooltip-da40fd61.js";import{d as n,o,r,i as a,C as s,e as d}from"./baseChart-80ea0f56.js";import"./dom-b082d2b1.js";import"./_tslib-1f2a369a.js";import"./disposable-d2c2d283.js";class l extends s{constructor(e,t,i){super(e,t,i)}get widget(){return super.widget}createWidgetBuilder(e,t,i,n){const o=e.viz.dxPieChart;return function(e){n(new o(t,e))}}completeChartOptions(n,o,r,a){let s=!1;const l={animation:o.animation,tooltip:o.tooltip,dataSource:o.dataSource,palette:a,resolveLabelOverlapping:o.resolveLabelOverlapping,dataPrepareSettings:{sortingMethod:!1},commonSeriesSettings:{argumentField:"argument",valueField:"value",type:"donut"},adaptiveLayout:{width:0,height:0},seriesTemplate:{nameField:"seriesId",customizeSeries:function(e){return o.series.filter((function(t){return t.seriesId===e}))[0]}},customizeLabel:function(e){return e.data.pointLabel},customizePoint:function(e){return e.data.pointAppearance},legend:{visible:!1,hoverMode:(o.legend?o.legend.hoverMode:null)||"includepoints"},onDrawn:async function(t){s||(s=!0,d(n,t.component),e(n,"dx-loading",!1))},pathModified:!1,diameter:o.diameter,minDiameter:o.minDiameter,innerRadius:void 0===o.innerRadius?0:o.innerRadius};if(o.tooltip&&o.tooltip.enabled){t(l,o.tooltip,r);const e=n.querySelector(".dx-chart-legend");e&&e.addEventListener("mouseover",(function(){i(n,!0)}))}else l.tooltip={enabled:!1,forceEvents:!1};return l}}const u={init:function(e,t,i){return a(e,t,i,((e,t,i)=>new l(e,t,i)))},dispose:n,onSeriesVisibleChanged:o,render:r};export{u as default};
