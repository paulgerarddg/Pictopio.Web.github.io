import{t as e}from"./dom-utils-8b753f73.js";import{setupTooltip as t,hideTooltip as o}from"./tooltip-da40fd61.js";import{d as a,o as i,r as n,i as r,C as l,e as s}from"./baseChart-80ea0f56.js";import"./dom-b082d2b1.js";import"./_tslib-1f2a369a.js";import"./disposable-d2c2d283.js";class d extends l{constructor(e,t,o){super(e,t,o)}get widget(){return super.widget}createWidgetBuilder(e,t,o,a){const i=o.series.map((e=>e.category))[0],n="pie"===i||"donut"===i?e.viz.dxPieChart:e.viz.dxChart;return function(e){e.type=i,a(new n(t,e))}}completeChartOptions(a,i,n,r){let l=!1;const d=window.getComputedStyle(document.body).getPropertyValue("color");const u={animation:i.animation,tooltip:i.tooltip,dataSource:i.dataSource,palette:r,rotated:i.rotated,resolveLabelOverlapping:i.resolveLabelOverlapping,commonAxisSettings:{label:{overlappingBehavior:"rotate",rotationAngle:45,font:{color:d,opacity:.75}}},dataPrepareSettings:{sortingMethod:!1},commonSeriesSettings:{argumentField:"argument",valueField:"value",openValueField:"openValue",highValueField:"highValue",lowValueField:"lowValue",closeValueField:"closeValue",rangeValue1Field:"startValue",rangeValue2Field:"endValue",sizeField:"size",type:"bar"},adaptiveLayout:{width:0,height:0},seriesTemplate:{nameField:"seriesId",customizeSeries:function(e){return i.series.filter((function(t){return t.seriesId===e}))[0]}},customizeLabel:function(e){return e.data.pointLabel},customizePoint:function(e){return e.data.pointAppearance},legend:{visible:!1,hoverMode:(i.legend?i.legend.hoverMode:null)||"includepoints"},onDrawn:async function(t){l||(l=!0,s(a,t.component),e(a,"dx-loading",!1))},valueAxis:i.valueAxis,panes:i.panes,argumentAxis:i.argumentAxis,pathModified:!1,zoomAndPan:i.zoomAndPan,scrollBar:i.scrollBar};if(u.argumentAxis?u.argumentAxis.aggregateByCategory=!0:u.argumentAxis={aggregateByCategory:!0},i.tooltip&&i.tooltip.enabled){t(u,i.tooltip,n);const e=a.querySelector(".dx-chart-legend");e&&e.addEventListener("mouseover",(function(){o(a,!0)}))}else u.tooltip={enabled:!1,forceEvents:!1};return u}}const u={init:function(e,t,o){return r(e,t,o,((e,t,o)=>new d(e,t,o)))},dispose:a,onSeriesVisibleChanged:i,render:n};export{u as default};
