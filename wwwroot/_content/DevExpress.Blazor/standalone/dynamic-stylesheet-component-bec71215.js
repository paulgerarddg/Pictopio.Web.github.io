import{defineDxCustomElement as e}from"./define-custom-element-ee3a9585.js";const t=window.requestAnimationFrame||function(e){e()};const n=function(e){this.requestFrame=e,this.cache=[[]],this.isInFrame=!1,this.frameTimestamp=null,this.isWaiting=!1,this.getBuffer=function(e){return e||(e=0),this.cache.length<=e&&(this.cache[e]=[]),this.cache[e]},this.execute=function(e,t){if(!this.isInFrame)return!1;let n=this.cache[t||0];return null===n?e(i,this.frameTimestamp):(n=this.getBuffer(t)).push(e),!0},this.runAll=function(e){this.isWaiting=!1,this.isInFrame=!0,this.frameTimestamp=e;for(let e=0;e<this.cache.length;e++){const t=this.cache[e];if(t)for(this.cache[e]=null;t.length;)t.shift()(i,this.frameTimestamp)}this.waitNextFrame()},this.waitNextFrame=function(){this.cache=[[]],this.isInFrame=!1,this.isWaiting=!1},this.requestExecution=function(e,t){const n=this;return new Promise((function(i){function s(t,n){i(e(t,n))}n.execute(s,t)||(n.getBuffer(t).push(s),!1===n.isWaiting&&(n.isWaiting=!0,n.requestFrame(n.runAll.bind(n))))}))}};let i=null;function s(e){const t=new n(e);return t.requestExecution.bind(t)}const c=s((function(e){return i=function(e){return t(e)}(e)}));s((function(e){return c((function(){setTimeout(e)}))}));const r=document.createElement("style");async function u(e,t){var n;e&&await(n=()=>t.innerHTML=e,c(n))}r.type="text/css";class a extends HTMLElement{constructor(){super(),this.resourceStyleElement=r.cloneNode()}static get observedAttributes(){return["css"]}attributeChangedCallback(e,t,n){"css"===e&&u(n,this.resourceStyleElement)}connectedCallback(){this.resourceStyleElement.isConnected||document.head.appendChild(this.resourceStyleElement)}disconnectedCallback(){this.resourceStyleElement.isConnected&&this.resourceStyleElement.remove()}}e(customElements,"dxbl-dynamic-stylesheet",a);export{a as default};
//# sourceMappingURL=dynamic-stylesheet-component-bec71215.js.map
